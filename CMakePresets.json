{
    "version" : 6,
    "cmakeMinimumRequired": {
      "major": 3,
      "minor": 26
    },
    "configurePresets": [
        {
            "name": "derecho-gpu-configure",
            "displayName": "Derecho",
            "description": "Presets for the Derecho cluster",
            "cacheVariables": {
                "MICM_MODULE_LOADS": {
                    "type": "STRING",
                    "value": "nvhpc/23.7;gcc-toolchain/12.2.0;cuda/12.2.1"
                },
                "MICM_MODULE_UNLOADS": {
                    "type": "STRING",
                    "value": "cray-mpich"
                },
                "MICM_GPU_TYPE": {
                    "type": "STRING",
                    "value": "a100"
                },
                "MICM_ENABLE_CUDA": {
                    "type": "BOOL",
                    "value": "ON"
                }
            },
            "binaryDir": "nvhpc-test"
        }
    ],
    "buildPresets": [
      {
        "name": "derecho-gpu-build",
        "configurePreset" : "derecho-gpu-configure",
        "inheritConfigureEnvironment": true
      }
    ],
    "workflowPresets": [
      {
        "name" : "derecho-gpu-workflow",
        "steps": [
          {
            "type": "configure",
            "name" : "derecho-gpu-configure"
          },
          {
            "type": "build",
            "name": "derecho-gpu-build"
          }
        ]
      }
    ]
}
